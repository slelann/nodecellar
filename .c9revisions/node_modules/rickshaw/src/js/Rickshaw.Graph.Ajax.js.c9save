{"ts":1370336451070,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"Rickshaw.namespace('Rickshaw.Graph.Ajax');\n\nRickshaw.Graph.Ajax = Rickshaw.Class.create( {\n\n\tinitialize: function(args) {\n\n\t\tthis.dataURL = args.dataURL;\n\n\t\tthis.onData = args.onData || function(d) { return d };\n\t\tthis.onComplete = args.onComplete || function() {};\n\t\tthis.onError = args.onError || function() {};\n\n\t\tthis.args = args; // pass through to Rickshaw.Graph\n\n\t\tthis.request();\n\t},\n\n\trequest: function() {\n\n\t\t$.ajax( {\n\t\t\turl: this.dataURL,\n\t\t\tdataType: 'json',\n\t\t\tsuccess: this.success.bind(this),\n\t\t\terror: this.error.bind(this)\n\t\t} );\n\t},\n\n\terror: function() {\n\n\t\tconsole.log(\"error loading dataURL: \" + this.dataURL);\n\t\tthis.onError(this);\n\t},\n\n\tsuccess: function(data, status) {\n\n\t\tdata = this.onData(data);\n\t\tthis.args.series = this._splice({ data: data, series: this.args.series });\n\n\t\tthis.graph = new Rickshaw.Graph(this.args);\n\t\tthis.graph.render();\n\n\t\tthis.onComplete(this);\n\t},\n\n\t_splice: function(args) {\n\n\t\tvar data = args.data;\n\t\tvar series = args.series;\n\n\t\tif (!args.series) return data;\n\n\t\tseries.forEach( function(s) {\n\n\t\t\tvar seriesKey = s.key || s.name;\n\t\t\tif (!seriesKey) throw \"series needs a key or a name\";\n\n\t\t\tdata.forEach( function(d) {\n\n\t\t\t\tvar dataKey = d.key || d.name;\n\t\t\t\tif (!dataKey) throw \"data needs a key or a name\";\n\n\t\t\t\tif (seriesKey == dataKey) {\n\t\t\t\t\tvar properties = ['color', 'name', 'data'];\n\t\t\t\t\tproperties.forEach( function(p) {\n\t\t\t\t\t\ts[p] = s[p] || d[p];\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\n\t\treturn series;\n\t}\n} );\n\n"]],"start1":0,"start2":0,"length1":0,"length2":1470}]],"length":1470}
{"contributors":[],"silentsave":true,"ts":1370336519890,"patch":[[{"diffs":[[0,"w.Graph\n"],[1,"console.log(\""],[0,"\n\t\tthis."]],"start1":361,"start2":361,"length1":16,"length2":29}]],"length":1483,"saved":false}
{"ts":1370336521758,"patch":[[{"diffs":[[0,"le.log(\""],[1,"rick"],[0,"\n\t\tthis."]],"start1":374,"start2":374,"length1":16,"length2":20}]],"length":1487,"saved":false}
{"ts":1370336523004,"patch":[[{"diffs":[[0,"og(\"rick"],[1,"sha"],[0,"\n\t\tthis."]],"start1":378,"start2":378,"length1":16,"length2":19}]],"length":1490,"saved":false}
{"ts":1370336523671,"patch":[[{"diffs":[[0,"\"ricksha"],[1,"w"],[0,"\n\t\tthis."]],"start1":381,"start2":381,"length1":16,"length2":17}]],"length":1491,"saved":false}
{"ts":1370336525362,"patch":[[{"diffs":[[0,"rickshaw"],[1,":\")"],[0,"\n\t\tthis."]],"start1":382,"start2":382,"length1":16,"length2":19}]],"length":1494,"saved":false}
{"ts":1370336527988,"patch":[[{"diffs":[[0,"kshaw:\")"],[1,";"],[0,"\n\t\tthis."]],"start1":385,"start2":385,"length1":16,"length2":17}]],"length":1495,"saved":false}
{"ts":1370336536701,"patch":[[{"diffs":[[0,"ickshaw:"],[1,"initiali"],[0,"\");\n\t\tth"]],"start1":383,"start2":383,"length1":16,"length2":24}]],"length":1503,"saved":false}
{"ts":1370336539122,"patch":[[{"diffs":[[0,"initiali"],[1,"ze"],[0,"\");\n\t\tth"]],"start1":391,"start2":391,"length1":16,"length2":18}]],"length":1505,"saved":false}
{"ts":1370336542188,"patch":[[{"diffs":[[0,"ion() {\n"],[1,"console.log(\"rickshaw:\");"],[0,"\n\t\t$.aja"]],"start1":443,"start2":443,"length1":16,"length2":41}]],"length":1530,"saved":false}
{"ts":1370336545428,"patch":[[{"diffs":[[0,"ickshaw:"],[1,"request"],[0,"\");\n\t\t$."]],"start1":465,"start2":465,"length1":16,"length2":23}]],"length":1537,"saved":false}
{"ts":1370336549493,"patch":[[{"diffs":[[0,"atus) {\n"],[1,"console.log(\"rickshaw:\");"],[0,"\n\t\tdata "]],"start1":753,"start2":753,"length1":16,"length2":41}]],"length":1562,"saved":false}
{"ts":1370336552450,"patch":[[{"diffs":[[0,"ickshaw:"],[1,"success"],[0,"\");\n\t\tda"]],"start1":775,"start2":775,"length1":16,"length2":23}]],"length":1569,"saved":false}
